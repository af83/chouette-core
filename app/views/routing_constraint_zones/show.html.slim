- breadcrumb :routing_constraint_zone, @referential, @line, @routing_constraint_zone
- page_header_content_for @routing_constraint_zone

.page_content
  .container-fluid
    .row
      .col-lg-6.col-md-6.col-sm-12.col-xs-12
        = definition_list t('metadatas'),
          { @routing_constraint_zone.human_attribute_name(:name) => @routing_constraint_zone.try(:name),
            @routing_constraint_zone.human_attribute_name(:route) => link_to(@routing_constraint_zone.try(:route_name), [@referential, @line, @routing_constraint_zone.route]),
            @routing_constraint_zone.human_attribute_name(:line) => link_to(@line.name, [@referential, @line]),
            @routing_constraint_zone.human_attribute_name(:checksum) => @routing_constraint_zone.checksum}

    .row
      .col-lg-12
        = table_builder_2 @routing_constraint_zone.route.stop_points,
          [ \
            TableBuilderHelper::Column.new( \
              name: "Arrêts de l'itinéraire", \
              attribute: 'name', \
              link_to: lambda do |stop_point| \
                referential_stop_area_path(@referential, stop_point.stop_area) \
              end \
            ),
            TableBuilderHelper::Column.new( \
              name: "Arrêts inclus dans l'ITL", \
              attribute: Proc.new{ |rsp| (@routing_constraint_zone.stop_point_ids.include? rsp.id) ? 'Oui' : 'Non' } \
            ) \
          ],
          sortable: false,
          cls: 'table has-stoppoints'
